<div class="product-card" (click)="onViewProduct()">
  <div class="product-image-container">
    <img *ngIf="product.image?.imageUrl" [src]="fileBaseURL + (product.image?.imageUrl ?? '')" [alt]="product.name" class="product-image">
    <img *ngIf="!product.image?.imageUrl"[src]="'assets/img/cookies.png'" [alt]="product.name" class="product-image">
    <div class="product-actions">
      <button class="action-btn wishlist-btn" [class.in-wishlist]="isInWishlist()" (click)="onAddToWishlist($event)" [title]="isInWishlist() ? ('PRODUCT.WISHLIST.REMOVE' | translate) : ('PRODUCT.WISHLIST.ADD' | translate)">
        <svg width="16" height="16" viewBox="0 0 24 24" [attr.fill]="isInWishlist() ? 'currentColor' : 'none'" stroke="currentColor" stroke-width="2">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
      </button>
      <button class="action-btn view-btn" (click)="onViewProduct($event)" [title]="('PRODUCT.VIEW' | translate)">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
          <circle cx="12" cy="12" r="3"></circle>
        </svg>
      </button>
    </div>
    <div class="out-of-stock" *ngIf="!product.isInStock">
      {{ 'PRODUCT.OUT_OF_STOCK' | translate }}
    </div>
  </div>
  
  <div class="product-info">
    <h3 class="product-name">{{ product.name }}</h3>
    
    <div class="product-rating">
      <div class="stars">
        <span *ngFor="let star of getStars(product.rating!)" class="star" [class.filled]="star === 1">
          â˜…
        </span>
      </div>
    </div>
    
    <div class="product-pricing">
      <span class="current-price">${{ product.price.toFixed(2) }}</span>
      <span class="original-price" *ngIf="product.originalPrice as orig">
        ${{ orig.toFixed(2) }}
      </span>
    </div>
    
    <button 
      class="add-to-cart-btn" 
      (click)="onAddToCart($event)"
      [disabled]="!product.isInStock"
      [class.disabled]="!product.isInStock"    
    >
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="9" cy="21" r="1"></circle>
        <circle cx="20" cy="21" r="1"></circle>
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
      </svg>
      {{ product.isInStock ? ('PRODUCT.ADD_TO_CART' | translate) : ('PRODUCT.OUT_OF_STOCK' | translate) }}
    </button>
  </div>
</div>
